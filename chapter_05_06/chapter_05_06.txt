웹 어댑터
웹 어댑터는 외부로부터 요청을 받아 애플리케이션 코어를 호출하고 무슨 일을 해야 할지 알려줌. 제어 흐름: 웹 어댑터(컨트롤러) -> 애플리케이션 계층(서비스)
애플리케이션 계층에서는 웹 어댑터가 통신할 수 있는 특정 포트를 제공. 서비스는 이 포트를 구현하고, 웹 어댑터는 이 포트를 호출 할 수 있음

어댑터와 서비스 사이에 포트 인터페이스를 두는 이유: 애플리케이션 코어가 외부 세계와 통신 할 수 있는 곳에 대한 명세가 포트. 포트를 적절한 곳에 위치시키면 외부와 어떤 통신이 일어나고 있는지 정확히 알 수 있고, 유지보수시에 이런 정보가 도움이 됨

웹 어댑터가 하는 일
1. HTTP 요청을 자바 객체로 매핑
2. 권한 검사
3. 입력 유효성 검증
4. 입력을 유스케이스의 입력 모델로 매핑
5. 유스케이스 호출
6. 유스케이스의 출력을 HTTP로 매핑
7. HTTP 응답을 반환

웹 어댑터로 기능하는 컨트롤러는 가능한 한 좁고 다른 컨트롤러와 가능한 한 적게 공유하도록 구현 -> 가급적 별도의 패키지안에 별도의 컨트롤러 생성
별도의 컨트롤러와 함께 별도의 전용 모델 클래스로 생성하는 경우 패키지에 대해 private으로 선언할 수 있기 때문에 실수로 다른 곳에서 재사용될 일이 없음.
웹 어댑터를 구현할 때는 HTTP 요청을 애플리케이션의 유스케이스에 대한 메서드 호출로 변환하고 결과를 다시 HTTP로 변환하는 역할만 수행하고 도메인 로직은 수행하지 않는 다는 점을 염두.


영속성 어댑터
영속성 어댑터는 어플리케이션 코어에 의해 호출되기만 할 뿐인 '주도되는' 혹은 '아웃고잉' 어댑터다.

영속성 어댑터가 하는 일
1. 입력을 받는다
2. 입력을 데이터베이스 포맷으로 매핑한다
3. 입력을 데이터베이스로 보낸다
4. 데이터베이스 출력을 애플리케이션 포맷으로 매핑한다
5. 출력을 반환한다

인터페이스 분리 원칙(Interface Segregation Principle, ISP)를 적용해서 매우 좁은 포트를 만들도록 한다


****************
application의 정의
adapter의 정의: 포트로 들어오기 위해 외부와 포트를 연결해주는 플러그인
port의 정의: 어떤 데이터를 들어오게 하기 위한 전용망, 전용 통로, 허가된 통로


@Valid, validate interface